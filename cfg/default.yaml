logging:
  freq: 50
  path: LogFiles
  project: 'natural-covers'
  eid: null
  wandb:
    activate: False
    team: "dde"

training:
  seed: 1994
  gpus: [0,1,2,3]
  epochs: 50
  batch_size: 8
  balanced: False
  amp_level: "O1"
  precision: 16

ckpt:
  resume_from: null
  seed_from: null #'https://github.com/DDELab/deepsteganalysis/releases/download/v0.1/jin_srnet.ckpt'
  load_fc: True
  pretrained: True

optimizer:
  # do not decay batch norm and bias and FC
  decay_not_bias_norm: 0
  # initial learning rate
  lr: 1e-3
  # eps for adaptive optimizers
  eps: 1e-4
  # Name of LR scheduler
  lr_scheduler_name: 'onecycle'
  # Name of optimizer
  name: 'adamw'
  # Optimizer weight decay
  weight_decay: 1e-2

model:
  backbone: manifold_srnet
  version: test
  # name of surgery function
  surgery: null

# Dataset should comply with a following directory hierarchy 
# $data_path/
#     $desc.class1/
#         $train_id/
#         $val_id/
#         $test_id/
#     ...
#     $desc.classN/
#         $train_id/
#         $val_id/
#         $test_id/
dataset:
  size: 50
  augs_type: 'spatial_d4'
  decoder: 'gray_spatial'
  data_path: '/media/NS/MonoBaseRealizationsISO1000Gamma256x256/realization_1/0_0/'
  pair_constraint: True
  num_workers: 8
  train_id: "TRN"
  test_id: "TST"
  val_id: "VAL"
  # Do not use wilcard now
  # If pair constraint - make sure class1 is the cover class
  desc:
    class1:
      path: "COVER"
      label: 0
      file_ext: '.pgm'
      file_type: 'image'
      payload: null
    class2:
      path: "HILL2_{1.1,1,0.9}_bpp" #"HILL2_{1.1,1,0.9,0.8,0.7,0.6,0.5,0.4,0.3,0.2,0.1,0.05}_bpp"
      label: 1
      file_ext: '.pgm'
      file_type: 'image'
      payload: null
      